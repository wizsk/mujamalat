{{define "reader-css"}}
<style>
    /* from quran.com */
    .speia {
        --base: #f8ebd5;
        --text: #010101;
        --text-nf: #d20f39;
    }

    .latte {
        --base: #eff1f5;
        --text: #3a3c4e;
        --text-nf: #d20f39;
    }

    .mocha {
        --base: #1e1e2e;
        --text: #cdd6f4;
        --text-nf: #f38ba8;
    }

    #reader {
        max-width: 35em;
        text-align: right;
        direction: rtl;
        margin-left: auto;
        margin-right: auto;
        margin-top: 2rem;
        margin-bottom: 3rem;
        padding: 1rem 1rem;
        padding-top: 0;
    }

    .pera {
        text-indent: 6%;
        margin-bottom: 1.3rem;
    }

    #reader span {
        cursor: pointer;
        transition: background-color 100ms ease-in-out;
    }

    #popup {
        position: absolute;
        top: 0;
        left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
    }

    .hi {
        background-color: var(--highlight);
        /* background-color: var(--accent-dark);
        color: var(--bg); */
    }

    .clicked {
        background-color: var(--highlight2);
    }

    .alert {
        background-color: var(--alert);
    }

    #highlight svg {
        height: 1.4rem;
        width: 1.4rem;
    }
</style>
{{end}}

{{define "reader"}}
<div id="reader">
    {{range .Peras}}
    <div class="pera">
        {{range .}}
        <span data-oar="{{.Oar}}"
            class="rWord {{if .IsHi}}hi{{end}}">{{.Og}}</span><!-- s alias to showWord. shorter name for space saving -->
        {{end}}
    </div>
    {{end}}
</div>
<div id="popup" class="hidden">
    <button id="highlight" class="svg-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
            <path
                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z" />
        </svg>
    </button>
    <button id="openDictBtn" class="svg-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
            <path
                d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94" />
        </svg>
    </button>
</div>
{{end}}